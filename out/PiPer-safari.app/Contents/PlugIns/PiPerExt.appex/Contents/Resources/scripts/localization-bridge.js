var a;a||(a=!0,(()=>{// Input 0
const LOGGING_LEVEL$$module$defines = 0;
const BROWSER$$module$defines = 0;
var module$defines = {};
module$defines.BROWSER = BROWSER$$module$defines;
module$defines.LOGGING_LEVEL = LOGGING_LEVEL$$module$defines;
// Input 1
const loggingPrefix$$module$logger = "[PiPer] ";
const LoggingLevel$$module$logger = {ALL:0, TRACE:10, INFO:20, WARNING:30, ERROR:40,};
const trace$$module$logger = LoggingLevel$$module$logger.TRACE >= LOGGING_LEVEL$$module$defines ? console.trace.bind(console) : function() {
};
const info$$module$logger = LoggingLevel$$module$logger.INFO >= LOGGING_LEVEL$$module$defines ? console.info.bind(console, loggingPrefix$$module$logger) : function() {
};
const warn$$module$logger = LoggingLevel$$module$logger.WARNING >= LOGGING_LEVEL$$module$defines ? console.warn.bind(console, loggingPrefix$$module$logger) : function() {
};
const error$$module$logger = LoggingLevel$$module$logger.ERROR >= LOGGING_LEVEL$$module$defines ? console.error.bind(console, loggingPrefix$$module$logger) : function() {
};
var module$logger = {};
module$logger.LoggingLevel = LoggingLevel$$module$logger;
module$logger.error = error$$module$logger;
module$logger.info = info$$module$logger;
module$logger.trace = trace$$module$logger;
module$logger.warn = warn$$module$logger;
// Input 2
const localizations$$module$localization = {};
localizations$$module$localization["button-title"] = {"en":"Open Picture in Picture mode", "de":"Bild-in-Bild starten", "nl":"Beeld in beeld starten", "fr":"D\u00e9marrer Image dans l\u2019image",};
localizations$$module$localization["donate"] = {"en":"Donate", "de":"Spenden",};
localizations$$module$localization["donate-small"] = {"en":"Small donation",};
localizations$$module$localization["donate-medium"] = {"en":"Medium donation",};
localizations$$module$localization["donate-large"] = {"en":"Grand donation",};
localizations$$module$localization["total-donations"] = {"en":"Total donations:",};
localizations$$module$localization["donate-error"] = {"en":"In-app purchase unavailable",};
localizations$$module$localization["report-bug"] = {"en":"Report a bug", "de":"Einen Fehler melden",};
localizations$$module$localization["options"] = {"en":"Options",};
localizations$$module$localization["install-thanks"] = {"en":"Thanks for adding PiPer!",};
localizations$$module$localization["enable"] = {"en":"Enable",};
localizations$$module$localization["safari-disabled-warning"] = {"en":"Extension is currently disabled, enable in Safari preferences",};
localizations$$module$localization["chrome-flags-open"] = {"en":"Open Chrome Flags",};
localizations$$module$localization["chrome-flags-warning"] = {"en":'Before you get started you need to enable the chrome flag [emphasis]"SurfaceLayer objects for videos"[/emphasis]',};
const defaultLanguage$$module$localization = "en";
const localizedString$$module$localization = function(key, language = navigator.language.substring(0, 2)) {
  const localizationsForKey = localizations$$module$localization[key];
  if (localizationsForKey) {
    let string = localizationsForKey[language] || localizationsForKey[defaultLanguage$$module$localization];
    if (string) {
      return string;
    }
  }
  error$$module$logger(`No localized string found for key '${key}'`);
  return "";
};
const localizedStringWithReplacements$$module$localization = function(key, replacements, language) {
  let string = localizedString$$module$localization(key, language);
  for (let index = replacements.length; index--;) {
    let replacement = replacements[index];
    if (/[^-_0-9a-zA-Z\/]/.test(replacement[0])) {
      error$$module$logger(`Invalid characters used in localized string tag '${replacement[0]}'`);
    }
    const regex = new RegExp(`\\\[${replacement[0]}\\\]`, "g");
    string = string.replace(regex, replacement[1]);
  }
  return string;
};
var module$localization = {};
module$localization.localizedString = localizedString$$module$localization;
module$localization.localizedStringWithReplacements = localizedStringWithReplacements$$module$localization;
// Input 3
window["localizedString"] = localizedString$$module$localization;
var module$localization_bridge = {};
})());
//# sourceMappingURL=data:application/json;base64,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O0FBQ0VkLDBCQUFBLENBQU0sb0RBQW9EYyxXQUFBLENBQVksQ0FBWixDQUFwRCxHQUFOLENBQUE7QUFERjtBQUlBLFVBQU1FLFFBQVEsSUFBSUMsTUFBSixDQUFXLE9BQU9ILFdBQUEsQ0FBWSxDQUFaLENBQVAsTUFBWCxFQUF3QyxHQUF4QyxDQUFkO0FBQ0FMLFVBQUEsR0FBU0EsTUFBT1MsQ0FBQUEsT0FBUCxDQUFlRixLQUFmLEVBQXNCRixXQUFBLENBQVksQ0FBWixDQUF0QixDQUFUO0FBVCtDO0FBWWpELFNBQU9MLE1BQVA7QUFqQm1GLENBQTlFO0FBbEdQLElBQUF0QixzQkFBQSxFQUFBO0FBMkVhZ0IsbUJBQUFBLENBQUFBLGVBQUFBLEdBQUFBLG9DQUFBQTtBQXVCQU8sbUJBQUFBLENBQUFBLCtCQUFBQSxHQUFBQSxvREFBQUE7QTtBQy9GYlMsTUFBQSxDQUFPLGlCQUFQLENBQUEsR0FBNEJoQixvQ0FBNUI7QUFIQSxJQUFBaEIsNkJBQUEsRUFBQTs7IiwKInNvdXJjZXMiOlsiLi9kZWZpbmVzLmpzIiwiLi9sb2dnZXIuanMiLCIuL2xvY2FsaXphdGlvbi5qcyIsIi4vbG9jYWxpemF0aW9uLWJyaWRnZS5qcyJdLAoic291cmNlc0NvbnRlbnQiOlsiLyoqIEBkZWZpbmUge251bWJlcn0gLSBGbGFnIHVzZWQgYnkgY2xvc3VyZSBjb21waWxlciB0byBzZXQgbG9nZ2luZyBsZXZlbCAqL1xuZXhwb3J0IGNvbnN0IExPR0dJTkdfTEVWRUwgPSAwO1xuXG4vKiogQGRlZmluZSB7bnVtYmVyfSAtIEZsYWcgdXNlZCBieSBjbG9zdXJlIGNvbXBpbGVyIHRvIHRhcmdldCBzcGVjaWZpYyBicm93c2VyICovXG5leHBvcnQgY29uc3QgQlJPV1NFUiA9IDA7IiwiaW1wb3J0IHsgTE9HR0lOR19MRVZFTCB9IGZyb20gJy4vZGVmaW5lcy5qcydcblxuY29uc3QgbG9nZ2luZ1ByZWZpeCA9ICdbUGlQZXJdICc7XG5cbi8qKiBAZW51bSB7bnVtYmVyfSAtIEVudW0gZm9yIGxvZ2dpbmcgbGV2ZWwgKi9cbmV4cG9ydCBjb25zdCBMb2dnaW5nTGV2ZWwgPSB7XG4gIEFMTDogMCxcbiAgVFJBQ0U6IDEwLFxuICBJTkZPOiAyMCxcbiAgV0FSTklORzogMzAsXG4gIEVSUk9SOiA0MCxcbn07XG5cbi8qKlxuICogTG9ncyBzdGFjayB0cmFjZSB0byBjb25zb2xlXG4gKi9cbmV4cG9ydCBjb25zdCB0cmFjZSA9IChMb2dnaW5nTGV2ZWwuVFJBQ0UgPj0gTE9HR0lOR19MRVZFTCkgPyBcbiAgICBjb25zb2xlLnRyYWNlLmJpbmQoY29uc29sZSkgOiBmdW5jdGlvbigpe307XG5cbi8qKlxuICogTG9ncyBpbmZvcm1hdGlvbmFsIG1lc3NhZ2UgdG8gY29uc29sZVxuICovXG5leHBvcnQgY29uc3QgaW5mbyA9IChMb2dnaW5nTGV2ZWwuSU5GTyA+PSBMT0dHSU5HX0xFVkVMKSA/IFxuICAgIGNvbnNvbGUuaW5mby5iaW5kKGNvbnNvbGUsIGxvZ2dpbmdQcmVmaXgpIDogZnVuY3Rpb24oKXt9O1xuICAgIFxuLyoqXG4gKiBMb2dzIHdhcm5pbmcgbWVzc2FnZSB0byBjb25zb2xlXG4gKi9cbmV4cG9ydCBjb25zdCB3YXJuID0gKExvZ2dpbmdMZXZlbC5XQVJOSU5HID49IExPR0dJTkdfTEVWRUwpID8gXG4gICAgY29uc29sZS53YXJuLmJpbmQoY29uc29sZSwgbG9nZ2luZ1ByZWZpeCkgOiBmdW5jdGlvbigpe307XG4gICAgXG4vKipcbiAqIExvZ3MgZXJyb3IgbWVzc2FnZSB0byBjb25zb2xlXG4gKi9cbmV4cG9ydCBjb25zdCBlcnJvciA9IChMb2dnaW5nTGV2ZWwuRVJST1IgPj0gTE9HR0lOR19MRVZFTCkgPyBcbiAgICBjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSwgbG9nZ2luZ1ByZWZpeCkgOiBmdW5jdGlvbigpe307IiwiaW1wb3J0IHsgZXJyb3IgfSBmcm9tICcuL2xvZ2dlci5qcydcblxuY29uc3QgbG9jYWxpemF0aW9ucyA9IHt9O1xuXG5sb2NhbGl6YXRpb25zWydidXR0b24tdGl0bGUnXSA9IHtcbiAgJ2VuJzogJ09wZW4gUGljdHVyZSBpbiBQaWN0dXJlIG1vZGUnLFxuICAnZGUnOiAnQmlsZC1pbi1CaWxkIHN0YXJ0ZW4nLFxuICAnbmwnOiAnQmVlbGQgaW4gYmVlbGQgc3RhcnRlbicsXG4gICdmcic6ICdEXHUwMGU5bWFycmVyIEltYWdlIGRhbnMgbFx1MjAxOWltYWdlJyxcbn07XG5cbmxvY2FsaXphdGlvbnNbJ2RvbmF0ZSddID0ge1xuICAnZW4nOiAnRG9uYXRlJyxcbiAgJ2RlJzogJ1NwZW5kZW4nLFxufTtcblxubG9jYWxpemF0aW9uc1snZG9uYXRlLXNtYWxsJ10gPSB7XG4gICdlbic6ICdTbWFsbCBkb25hdGlvbicsXG59O1xuXG5sb2NhbGl6YXRpb25zWydkb25hdGUtbWVkaXVtJ10gPSB7XG4gICdlbic6ICdNZWRpdW0gZG9uYXRpb24nLFxufTtcblxubG9jYWxpemF0aW9uc1snZG9uYXRlLWxhcmdlJ10gPSB7XG4gICdlbic6ICdHcmFuZCBkb25hdGlvbicsXG59O1xuXG5sb2NhbGl6YXRpb25zWyd0b3RhbC1kb25hdGlvbnMnXSA9IHtcbiAgJ2VuJzogJ1RvdGFsIGRvbmF0aW9uczonLFxufTtcblxubG9jYWxpemF0aW9uc1snZG9uYXRlLWVycm9yJ10gPSB7XG4gICdlbic6ICdJbi1hcHAgcHVyY2hhc2UgdW5hdmFpbGFibGUnLFxufTtcblxubG9jYWxpemF0aW9uc1sncmVwb3J0LWJ1ZyddID0ge1xuICAnZW4nOiAnUmVwb3J0IGEgYnVnJyxcbiAgJ2RlJzogJ0VpbmVuIEZlaGxlciBtZWxkZW4nLFxufTtcblxubG9jYWxpemF0aW9uc1snb3B0aW9ucyddID0ge1xuICAnZW4nOiAnT3B0aW9ucycsXG59O1xuXG5sb2NhbGl6YXRpb25zWydpbnN0YWxsLXRoYW5rcyddID0ge1xuICAnZW4nOiAnVGhhbmtzIGZvciBhZGRpbmcgUGlQZXIhJyxcbn07XG5cbmxvY2FsaXphdGlvbnNbJ2VuYWJsZSddID0ge1xuICAnZW4nOiAnRW5hYmxlJyxcbn07XG5cbmxvY2FsaXphdGlvbnNbJ3NhZmFyaS1kaXNhYmxlZC13YXJuaW5nJ10gPSB7XG4gICdlbic6ICdFeHRlbnNpb24gaXMgY3VycmVudGx5IGRpc2FibGVkLCBlbmFibGUgaW4gU2FmYXJpIHByZWZlcmVuY2VzJyxcbn07XG5cbmxvY2FsaXphdGlvbnNbJ2Nocm9tZS1mbGFncy1vcGVuJ10gPSB7XG4gICdlbic6ICdPcGVuIENocm9tZSBGbGFncycsXG59O1xuXG5sb2NhbGl6YXRpb25zWydjaHJvbWUtZmxhZ3Mtd2FybmluZyddID0ge1xuICAnZW4nOiAnQmVmb3JlIHlvdSBnZXQgc3RhcnRlZCB5b3UgbmVlZCB0byBlbmFibGUgdGhlIGNocm9tZSBmbGFnIFtlbXBoYXNpc11cIlN1cmZhY2VMYXllciBvYmplY3RzIGZvciB2aWRlb3NcIlsvZW1waGFzaXNdJyxcbn07XG5cbi8vIFNldCBFbmdsaXNoIGFzIHRoZSBkZWZhdWx0IGZhbGxiYWNrIGxhbmd1YWdlXG5jb25zdCBkZWZhdWx0TGFuZ3VhZ2UgPSAnZW4nO1xuXG4vKipcbiAqIFJldHVybnMgYSBsb2NhbGl6ZWQgdmVyc2lvbiBvZiB0aGUgc3RyaW5nIGRlc2lnbmF0ZWQgYnkgdGhlIHNwZWNpZmllZCBrZXlcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gdGhlIGtleSBmb3IgYSBzdHJpbmcgXG4gKiBAcGFyYW0ge3N0cmluZz19IGxhbmd1YWdlIC0gdHdvLWxldHRlciBJU08gNjM5LTEgbGFuZ3VhZ2UgY29kZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgbG9jYWxpemVkU3RyaW5nID0gZnVuY3Rpb24oa2V5LCBsYW5ndWFnZSA9IG5hdmlnYXRvci5sYW5ndWFnZS5zdWJzdHJpbmcoMCwgMikpIHtcbiAgXG4gIC8vIEdldCBhbGwgbG9jYWxpemF0aW9ucyBmb3Iga2V5XG4gIGNvbnN0IC8qKiBPYmplY3Q8c3RyaW5nLHN0cmluZz4gKi8gbG9jYWxpemF0aW9uc0ZvcktleSA9IGxvY2FsaXphdGlvbnNba2V5XTtcbiAgaWYgKGxvY2FsaXphdGlvbnNGb3JLZXkpIHtcbiAgICBcbiAgICAvLyBHZXQgdGhlIHVzZXJzIHNwZWNpZmljIGxvY2FsaXphdGlvbiBvciBmYWxsYmFjayB0byBkZWZhdWx0IGxhbmd1YWdlXG4gICAgbGV0IHN0cmluZyA9IGxvY2FsaXphdGlvbnNGb3JLZXlbbGFuZ3VhZ2VdIHx8IGxvY2FsaXphdGlvbnNGb3JLZXlbZGVmYXVsdExhbmd1YWdlXTtcbiAgICBpZiAoc3RyaW5nKSByZXR1cm4gc3RyaW5nO1xuICB9XG4gIFxuICBlcnJvcihgTm8gbG9jYWxpemVkIHN0cmluZyBmb3VuZCBmb3Iga2V5ICcke2tleX0nYCk7XG4gIHJldHVybiAnJztcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIGxvY2FsaXplZCB2ZXJzaW9uIG9mIHRoZSBzdHJpbmcgZGVzaWduYXRlZCBieSB0aGUgc3BlY2lmaWVkIGtleSB3aXRoIHRhZ3MgcmVwbGFjZWRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gdGhlIGtleSBmb3IgYSBzdHJpbmcgXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PHN0cmluZz4+fSByZXBsYWNlbWVudHMgLSBhbiBhcnJheSBvZiBhcnJheXMgY29udGFpbmluZyBwYWlycyBvZiB0YWdzIGFuZCB0aGVpciByZXBsYWNlbWVudFxuICogQHBhcmFtIHtzdHJpbmc9fSBsYW5ndWFnZSAtIHR3by1sZXR0ZXIgSVNPIDYzOS0xIGxhbmd1YWdlIGNvZGVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IGxvY2FsaXplZFN0cmluZ1dpdGhSZXBsYWNlbWVudHMgPSBmdW5jdGlvbihrZXksIHJlcGxhY2VtZW50cywgbGFuZ3VhZ2UpIHtcbiAgXG4gIGxldCBzdHJpbmcgPSBsb2NhbGl6ZWRTdHJpbmcoa2V5LCBsYW5ndWFnZSk7XG4gIFxuICAvLyBSZXBsYWNlIHRhZ3Mgb2YgdGhlIGZvcm0gW1hYWF0gd2l0aCBkaXJlY3RlZCByZXBsYWNlbWVudHMgaWYgbmVlZGVkXG4gIGZvciAobGV0IGluZGV4ID0gcmVwbGFjZW1lbnRzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG4gICAgbGV0IHJlcGxhY2VtZW50ID0gcmVwbGFjZW1lbnRzW2luZGV4XTtcbiAgICBcbiAgICAvLyBFbnN1cmUgdGFncyBkbyBub3QgY29udGFpbiBzcGVjaWFsIGNoYXJhY3RlcnMgKHRoaXMgZ2V0cyBvcHRpbWlzZWQgYXdheSBhcyBvcHBvc2VkIHRvIGVzY2FwaW5nIHRoZSB0YWdzIHdpdGggdGhlIGFzc29jaWF0ZWQgcGVyZm9ybWFuY2UgY29zdClcbiAgICBpZiAoL1teLV8wLTlhLXpBLVpcXC9dLy50ZXN0KHJlcGxhY2VtZW50WzBdKSkge1xuICAgICAgZXJyb3IoYEludmFsaWQgY2hhcmFjdGVycyB1c2VkIGluIGxvY2FsaXplZCBzdHJpbmcgdGFnICcke3JlcGxhY2VtZW50WzBdfSdgKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGBcXFxcXFxbJHtyZXBsYWNlbWVudFswXX1cXFxcXFxdYCwgJ2cnKTtcbiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleCwgcmVwbGFjZW1lbnRbMV0pO1xuICB9XG5cbiAgcmV0dXJuIHN0cmluZztcbn07XG4iLCJpbXBvcnQgeyBsb2NhbGl6ZWRTdHJpbmcgfSBmcm9tICcuL2xvY2FsaXphdGlvbi5qcydcblxuLy8gRXhwb3J0IGxvY2FsaXphdGlvbiBmdW5jdGlvbnNcbndpbmRvd1snbG9jYWxpemVkU3RyaW5nJ10gPSBsb2NhbGl6ZWRTdHJpbmc7Il0sCiJuYW1lcyI6WyJMT0dHSU5HX0xFVkVMIiwiQlJPV1NFUiIsIiRqc2NvbXAkdG1wJGV4cG9ydHMkbW9kdWxlJG5hbWUiLCJsb2dnaW5nUHJlZml4IiwiTG9nZ2luZ0xldmVsIiwiQUxMIiwiVFJBQ0UiLCJJTkZPIiwiV0FSTklORyIsIkVSUk9SIiwidHJhY2UiLCJjb25zb2xlIiwiYmluZCIsImluZm8iLCJ3YXJuIiwiZXJyb3IiLCJsb2NhbGl6YXRpb25zIiwiZGVmYXVsdExhbmd1YWdlIiwibG9jYWxpemVkU3RyaW5nIiwia2V5IiwibGFuZ3VhZ2UiLCJuYXZpZ2F0b3IiLCJzdWJzdHJpbmciLCJsb2NhbGl6YXRpb25zRm9yS2V5Iiwic3RyaW5nIiwibG9jYWxpemVkU3RyaW5nV2l0aFJlcGxhY2VtZW50cyIsInJlcGxhY2VtZW50cyIsImluZGV4IiwibGVuZ3RoIiwicmVwbGFjZW1lbnQiLCJ0ZXN0IiwicmVnZXgiLCJSZWdFeHAiLCJyZXBsYWNlIiwid2luZG93Il0KfQo=
